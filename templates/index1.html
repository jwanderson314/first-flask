<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>To-do list</title>
  <link rel="stylesheet" href="/static/styles/style.css">
</head>

<body>

  <div class="left-container">

    <div class="stock-ticker">
      <p id="stock-price">$192.33</p>
    </div>



    <div class="image-button">
      <img id="skinImage" src="https://www.freeiconspng.com/thumbs/no-image-icon/no-image-icon-4.png"
        alt="your-image-alt">
      <button id="generate-skin">Generate Skin</button>
      <button id="clear-image">Clear Image</button>
    </div>
  </div>

  <div class="container">
    <hr>
    <div class="section1">

      <h1 id="title">TO DO LIST</h1>

      <p>

      <h3>Add Tasks</h3>

      <input id="new-task" type="text">

      <button id="submit">Add</button>

      </p>

      <button id="toggleTheme">Toggle Theme</button>

      <input type="file" id="file1" name="upload-file" value="">
      <button id="submitf">Submit</button>

    </div>

    <div class="section2">

      <h3>To-do</h3>

      <ul id="incomplete-tasks">

      </ul>

    </div>

    <div class="section3">

      <h3>Completed Tasks</h3>

      <ul id="completed-tasks">

      </ul>

    </div>

    <div class="section4">

      <button id="clear">
        <p>Clear</p>
      </button>

    </div>

  </div>

  <script src="/static/scripts/script.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Function to fetch stock price and update the HTML element
      function fetchStockPrice() {
        fetch("/stock")
          .then((response) => response.json())
          .then((data) => {
            console.log(data)
            const stockPriceElement = document.getElementById("stock-price");
            stockPriceElement.textContent = `Stock Price: $${data.stock_price}`;
            
          })
          .catch((error) => {
            console.error("Error fetching stock price:", error);
          });
      }

      // Initial fetch
      //fetchStockPrice();

      
      function updateStockPrice() {
        fetchStockPrice();
        setTimeout(updateStockPrice, 3000);
      }

      
      //updateStockPrice();
    });

  </script>

</body>


</html>